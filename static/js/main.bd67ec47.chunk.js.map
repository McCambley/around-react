{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/DeletePlacePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","id","src","logo","alt","CurrentUserContext","React","createContext","Card","cardData","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","like","link","name","onClick","type","length","Main","props","avatar","isLoading","onEditAvatarClick","onEditProfileClick","about","onAddPlaceClick","cards","map","card","index","onDeletePlaceClick","Footer","PopupWithForm","isOpen","onSubmit","action","title","children","buttonLabel","onClose","EditProfilePopup","onUpdateUser","isSubmitting","useState","updateName","description","updateDescription","handleChange","evt","stateUpdater","target","value","useEffect","e","preventDefault","placeholder","onChange","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","current","ref","AddPlacePopup","updateLink","onAddPlace","ImagePopup","DeletePlacePopup","onDeletePlace","api","baseUrl","authorization","this","_baseUrl","_auth","res","ok","json","Promise","reject","status","fetch","headers","then","_checkResponse","method","body","JSON","stringify","cardId","App","isEditAvatarPopupOpen","updateAvatarPopupState","isEditProfilePopupOpen","updateEditProfilePopupState","isAddPlacePopupOpen","updateAddPlacePopupState","isDeletePlacePopupOpen","updateDeletePlacePopupState","isSubmitPending","updateSubmitPendingStatus","selectedCard","updateSelectedCard","cardQueuedForDeletion","updateCardQueuedForDeletion","updateLoading","updateCurrentUser","updateCards","closeAllPopups","getGroupCards","data","catch","err","console","error","getUserInfo","Provider","changeLikeCardStatus","likedCard","cardItem","userData","updateProfile","addCard","newCard","updateAvatar","deleteCard","response","filter","stateCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bd67ec47.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.4e8e0a1d.svg\";","import logo from '../images/logo.svg';\n\nexport default function Header() {\n  return (\n    <>\n      <header className=\"header\">\n        <img id=\"logo\" src={logo} alt=\"Around the U.S.\" className=\"logo\" />\n      </header>\n    </>\n  );\n}\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nexport default function Card({ cardData, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = cardData.owner._id === currentUser._id;\n  const isLiked = cardData.likes.some(like => like._id === currentUser._id);\n\n  function handleClick() {\n    onCardClick(cardData);\n  }\n\n  function handleLike() {\n    onCardLike(cardData);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(cardData);\n  }\n\n  return (\n    <article className=\"element\">\n      <img className=\"element__image\" src={cardData.link} alt={`${cardData.name} taken by ${cardData.owner.name}`} onClick={handleClick} />\n      <div className=\"element__name-box\">\n        <h2 className=\"element__name\">{cardData.name}</h2>\n        <div className=\"element__like-container\">\n          <button\n            type=\"button\"\n            name=\"Like image\"\n            onClick={handleLike}\n            className={`element__heart ${isLiked && 'element__heart_liked'}`}\n            aria-label=\"Like photo\"></button>\n          <p className=\"element__likes\">{cardData.likes.length}</p>\n        </div>\n      </div>\n      <button\n        type=\"button\"\n        name=\"Delete image\"\n        onClick={handleDeleteClick}\n        className={`element__delete ${isOwn ? 'element__delete_visible' : 'element__delete_hidden'}`}\n        aria-label=\"Delete photo\"></button>\n    </article>\n  );\n}\n","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nexport default function Main(props) {\n  // const [userName, updateUserName] = React.useState('');\n  // const [userDescription, updateUserDescription] = React.useState('');\n  // const [userAvatar, updateUserAvatar] = React.useState('');\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__info-box\">\n          <div className=\"profile__avatar-wrapper\">\n            <img id=\"avatar\" src={currentUser.avatar} alt=\"\" className={`profile__avatar ${props.isLoading ? 'shimmer' : ''}`} />\n            <div onClick={props.onEditAvatarClick} className=\"profile__avatar-overlay\"></div>\n          </div>\n          <div className=\"profile__text\">\n            <div className=\"profile__text-top\">\n              <h1 className={`profile__name ${props.isLoading ? 'shimmer' : ''}`}>{currentUser.name}</h1>\n              <button\n                onClick={props.onEditProfileClick}\n                type=\"button\"\n                name=\"Edit profile\"\n                className={`profile__edit-button ${props.isLoading ? 'hide' : ''}`}\n                aria-label=\"Edit profile\"></button>\n            </div>\n            <p className={`profile__title ${props.isLoading ? 'shimmer' : ''}`}>{currentUser.about}</p>\n          </div>\n        </div>\n        <button\n          onClick={props.onAddPlaceClick}\n          type=\"button\"\n          name=\"Add image\"\n          className={`profile__add-button ${props.isLoading ? 'hide' : ''}`}\n          aria-label=\"Add image\"></button>\n      </section>\n      <section className=\"elements\">\n        {props.cards.map((card, index) => (\n          <Card\n            onCardLike={props.onCardLike}\n            key={card._id}\n            onCardDelete={props.onDeletePlaceClick}\n            cardData={card}\n            onCardClick={props.onCardClick}\n          />\n        ))}\n      </section>\n    </main>\n  );\n}\n","export default function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2021 Around the U.S.</p>\n    </footer>\n  );\n}\n","export default function PopupWithForm(props) {\n  return (\n    <>\n      <div className={`popup popup_role_${props.name} ${props.isOpen && 'popup_opened'}`}>\n        <div className=\"popup__container\">\n          <form onSubmit={props.onSubmit} action=\"#\" name={props.title} className={`popup__form popup__form_role_${props.name}`}>\n            <h2 className=\"popup__header\">{props.title}</h2>\n            {props.children}\n            <button type=\"submit\" className={`popup__save-button popup__save-button_role_${props.name}`}>\n              {props.buttonLabel}\n            </button>\n          </form>\n          <button type=\"button\" className={`popup__close popup__close_role_${props.name}`} aria-label=\"Close\" onClick={props.onClose}></button>\n        </div>\n      </div>\n    </>\n  );\n}\n","import PopupWithForm from './PopupWithForm';\nimport React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nexport default function EditProfilePopup({ isOpen, onClose, onUpdateUser, isSubmitting }) {\n  const [name, updateName] = React.useState('');\n  const [description, updateDescription] = React.useState('');\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleChange(evt, stateUpdater) {\n    stateUpdater(evt.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  React.useEffect(() => {\n    updateName(currentUser.name || '');\n    updateDescription(currentUser.about || '');\n  }, [currentUser, isOpen]);\n\n  return (\n    <>\n      <PopupWithForm\n        onSubmit={handleSubmit}\n        name=\"edit\"\n        title=\"Edit Profile\"\n        buttonLabel={isSubmitting ? 'Saving...' : 'Save'}\n        isOpen={isOpen}\n        onClose={onClose}>\n        <div className=\"popup__input-container\">\n          <input\n            type=\"text\"\n            id=\"name\"\n            name=\"name\"\n            placeholder=\"Name\"\n            value={name}\n            onChange={evt => handleChange(evt, updateName)}\n            className=\"popup__input popup__input_role_name\"\n            required\n            minLength=\"2\"\n            maxLength=\"40\"\n          />\n          <span className=\"popup__input-error popup__input-error_name\" />\n          <input\n            type=\"text\"\n            id=\"title\"\n            name=\"about\"\n            placeholder=\"Title\"\n            value={description}\n            onChange={evt => handleChange(evt, updateDescription)}\n            className=\"popup__input popup__input_role_title\"\n            required\n            minLength=\"2\"\n            maxLength=\"200\"\n          />\n          <span className=\"popup__input-error popup__input-error_title\" />\n        </div>\n      </PopupWithForm>\n    </>\n  );\n}\n","import PopupWithForm from './PopupWithForm';\nimport React from 'react';\n\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isSubmitting }) {\n  const inputRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: inputRef.current.value,\n    });\n  }\n\n  React.useEffect(() => {\n    inputRef.current.value = '';\n  }, [isOpen]);\n\n  return (\n    <>\n      <PopupWithForm\n        onSubmit={handleSubmit}\n        name=\"avatar\"\n        title=\"Change Profile Picture\"\n        buttonLabel={isSubmitting ? 'Saving...' : 'Save'}\n        isOpen={isOpen}\n        onClose={onClose}>\n        <div className=\"popup__input-container popup__input-container_role_avatar\">\n          <input\n            ref={inputRef}\n            type=\"url\"\n            id=\"avatar-url\"\n            name=\"avatar\"\n            placeholder=\"Image link\"\n            className=\"popup__input popup__input_role_image-link\"\n            required\n          />\n          <span className=\"popup__input-error popup__input-error_avatar-url\" />\n        </div>\n      </PopupWithForm>\n    </>\n  );\n}\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function AddPlacePopup(props) {\n  const [name, updateName] = React.useState('');\n  const [link, updateLink] = React.useState('');\n\n  function handleChange(e, stateUpdater) {\n    stateUpdater(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddPlace({\n      name,\n      link,\n    });\n  }\n\n  React.useEffect(() => {\n    updateName('');\n    updateLink('');\n  }, [props.isOpen]);\n\n  return (\n    <>\n      <PopupWithForm\n        name=\"add\"\n        title=\"New Place\"\n        buttonLabel={props.isSubmitting ? 'Saving...' : 'Save'}\n        isOpen={props.isOpen}\n        onClose={props.onClose}\n        onSubmit={handleSubmit}>\n        <div className=\"popup__input-container\">\n          <input\n            type=\"text\"\n            id=\"place\"\n            name=\"name\"\n            placeholder=\"Title\"\n            className=\"popup__input popup__input_role_image-title\"\n            required\n            minLength=\"1\"\n            maxLength=\"30\"\n            value={name}\n            onChange={e => handleChange(e, updateName)}\n          />\n          <span className=\"popup__input-error popup__input-error_place\" />\n          <input\n            type=\"url\"\n            id=\"url\"\n            name=\"link\"\n            placeholder=\"Image link\"\n            className=\"popup__input popup__input_role_image-link\"\n            value={link}\n            onChange={e => handleChange(e, updateLink)}\n            required\n          />\n          <span className=\"popup__input-error popup__input-error_url\" />\n        </div>\n      </PopupWithForm>\n    </>\n  );\n}\n","export default function ImagePopup(props) {\n  return (\n    <div className={`popup popup_role_image ${props.card && 'popup_opened'}`}>\n      <div className=\"popup__container popup__container_role_image\">\n        <figure className=\"popup__figure\">\n          <img src={`${props.card ? props.card.link : '#'}`} alt=\"#\" className=\"popup__image\" />\n          <figcaption className=\"popup__caption\">{`${props.card && props.card.name}`}</figcaption>\n        </figure>\n        <button type=\"button\" className=\"popup__close popup__close_role_image\" aria-label=\"Close\" onClick={props.onClose}></button>\n      </div>\n    </div>\n  );\n}\n","import PopupWithForm from './PopupWithForm';\nimport React from 'react';\n\nexport default function DeletePlacePopup({ isOpen, onClose, onDeletePlace, card, isSubmitting }) {\n  function handleSubmit(e) {\n    e.preventDefault();\n    onDeletePlace(card);\n  }\n  return (\n    <>\n      <PopupWithForm\n        onSubmit={handleSubmit}\n        name=\"delete\"\n        title=\"Are You Sure?\"\n        buttonLabel={isSubmitting ? 'Deleting...' : 'Yes'}\n        isOpen={isOpen}\n        onClose={onClose}\n      />\n    </>\n  );\n}\n","class Api {\n  constructor({ baseUrl, authorization }) {\n    // constructor body\n    this._baseUrl = baseUrl;\n    this._auth = authorization;\n  }\n\n  _checkResponse(res) {\n    if (!res.ok) {\n      return Promise.reject(`${res.status} error!`);\n    }\n    return res.json();\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: {\n        authorization: this._auth,\n      },\n    }).then(res => this._checkResponse(res));\n  }\n\n  getGroupCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: {\n        authorization: this._auth,\n      },\n    }).then(res => this._checkResponse(res));\n  }\n\n  updateProfile({ name, about }) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._auth,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    }).then(res => this._checkResponse(res));\n  }\n\n  updateAvatar({ avatar }) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._auth,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ avatar: avatar }),\n    }).then(res => this._checkResponse(res));\n  }\n\n  addCard({ name, link }) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this._auth,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    }).then(res => this._checkResponse(res));\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    const method = isLiked ? 'DELETE' : 'PUT';\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: method,\n      headers: {\n        authorization: this._auth,\n        'Content-Type': 'application/json',\n      },\n    }).then(res => this._checkResponse(res));\n  }\n\n  likeCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: {\n        authorization: this._auth,\n        'Content-Type': 'application/json',\n      },\n    }).then(res => this._checkResponse(res));\n  }\n\n  removeLike(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._auth,\n        'Content-Type': 'application/json',\n      },\n    }).then(res => this._checkResponse(res));\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._auth,\n        'Content-Type': 'application/json',\n      },\n    }).then(res => this._checkResponse(res));\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://around.nomoreparties.co/v1/group-12',\n  authorization: 'd45050bb-6054-461f-a7d7-f299e145a1f0',\n});\n\nexport default api;\n","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport DeletePlacePopup from './DeletePlacePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport api from '../utils/api';\n\nfunction App() {\n  const [isEditAvatarPopupOpen, updateAvatarPopupState] = React.useState(false);\n  const [isEditProfilePopupOpen, updateEditProfilePopupState] = React.useState(false);\n  const [isAddPlacePopupOpen, updateAddPlacePopupState] = React.useState(false);\n  const [isDeletePlacePopupOpen, updateDeletePlacePopupState] = React.useState(false);\n  const [isSubmitPending, updateSubmitPendingStatus] = React.useState(false);\n  const [selectedCard, updateSelectedCard] = React.useState(null);\n  const [cardQueuedForDeletion, updateCardQueuedForDeletion] = React.useState(null);\n  const [isLoading, updateLoading] = React.useState(true);\n  const [currentUser, updateCurrentUser] = React.useState({});\n  const [cards, updateCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api\n      .getGroupCards()\n      .then(data => {\n        updateCards(data);\n      })\n      .catch(err => console.error(`Problem fetching cards cards: ${err}`));\n  }, []);\n\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then(res => {\n        updateCurrentUser(res);\n        updateLoading(false);\n      })\n      .catch(err => console.error(`Problem fetching user information: ${err}`));\n  }, []);\n\n  function handleAvatarClick() {\n    updateAvatarPopupState(true);\n  }\n\n  function handleEditProfileClick() {\n    updateEditProfilePopupState(true);\n  }\n\n  function handleAddPlaceClick() {\n    updateAddPlacePopupState(true);\n  }\n\n  function handleCardClick(cardData) {\n    updateSelectedCard(cardData);\n  }\n\n  function handleDeletePlaceClick(cardData) {\n    updateDeletePlacePopupState(true);\n    updateCardQueuedForDeletion(cardData);\n  }\n\n  function handleUpdateUser(userData) {\n    updateSubmitPendingStatus(true);\n    api\n      .updateProfile(userData)\n      .then(res => {\n        updateCurrentUser(res);\n        closeAllPopups();\n        updateSubmitPendingStatus(false);\n      })\n      .catch(err => console.error(`Problem updating profile: ${err}`));\n  }\n\n  function handleUpdateAvatar(userData) {\n    updateSubmitPendingStatus(true);\n    api\n      .updateAvatar(userData)\n      .then(res => {\n        updateCurrentUser(res);\n        closeAllPopups();\n        updateSubmitPendingStatus(false);\n      })\n      .catch(err => console.error(`Problem updating avatar: ${err}`));\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(like => like._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then(likedCard => {\n        updateCards(cards.map(cardItem => (cardItem._id === card._id ? likedCard : cardItem)));\n      })\n      .catch(err => console.error(`Problem updating 'like' status: ${err}`));\n  }\n\n  function handleDeletePlaceSubmit(card) {\n    updateSubmitPendingStatus(true);\n    api\n      .deleteCard(card._id)\n      .then(response => {\n        updateCards(cards.filter(stateCard => stateCard !== card));\n        closeAllPopups();\n        updateSubmitPendingStatus(false);\n      })\n      .catch(err => console.error(`Problem deleting card: ${err}`));\n  }\n\n  function handleAddPlaceSubmit(card) {\n    updateSubmitPendingStatus(true);\n    api\n      .addCard(card)\n      .then(newCard => {\n        updateCards([newCard, ...cards]);\n        closeAllPopups();\n        updateSubmitPendingStatus(false);\n      })\n      .catch(err => console.error(`Problem adding new place: ${err}`));\n  }\n\n  function closeAllPopups() {\n    updateAvatarPopupState(false);\n    updateEditProfilePopupState(false);\n    updateAddPlacePopupState(false);\n    updateDeletePlacePopupState(false);\n    updateSelectedCard(null);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main\n          onEditAvatarClick={handleAvatarClick}\n          onEditProfileClick={handleEditProfileClick}\n          onAddPlaceClick={handleAddPlaceClick}\n          onCardClick={handleCardClick}\n          isLoading={isLoading}\n          onCardLike={handleCardLike}\n          onDeletePlaceClick={handleDeletePlaceClick}\n          cards={cards}\n        />\n        <Footer />\n        <EditProfilePopup isSubmitting={isSubmitPending} onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} />\n        <AddPlacePopup isSubmitting={isSubmitPending} onAddPlace={handleAddPlaceSubmit} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} />\n        <EditAvatarPopup isSubmitting={isSubmitPending} onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\n        <DeletePlacePopup\n          isSubmitting={isSubmitPending}\n          card={cardQueuedForDeletion}\n          onDeletePlace={handleDeletePlaceSubmit}\n          isOpen={isDeletePlacePopupOpen}\n          onClose={closeAllPopups}\n        />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}